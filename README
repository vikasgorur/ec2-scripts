==================
EC2 Scripts README
==================

This repository contains a set of convenience scripts to
deal with EC2 instances and EBS volumes.

-----
Setup
-----

Before using these scripts, edit the file `sourceme.sh' in
this directory and modify the following line:
	EC2_OWNER="Vikas"

Change it to your own name, or your dog's name, or your nickname.

Edit the following line and set the name of your EC2 SSH key.
	EC2_SSH_KEY="vikas"

Copy the relevant pk-*.pem and cert-*.pem to this directory.

-----
Usage
-----

The scripts in this directory are commands that let you operate on EC2 instances
and EBS volumes by referring to them by names given to them by you.

Before you run any of these commands, you must first do:

$ source sourceme.sh

--------
Commands
--------

Create an instance:
	./create-instance server1

	This creates an instance and gives it the name "server1". The name is
	stored with the instance as a tag. The script also adds another tag, "Owner",
	with the value $EC2_OWNER.

Terminate an instance:
	./terminate-instance server1

Stop an instance:
	./stop-instance server1

List your instances:
	./describe-instances

Login (ssh) to an instance:
	./connect server1

	The SSH key file $EC2_SSH_KEY.pem should exist in this directory.

Copy (scp) a file/directory to the $HOME of the root user on an instance:
	./copy server1 /tmp/somefile

Copy (scp) a file/directory from the $HOME of the root user:
	./copy-from server1 somefile

	This copies /root/somefile on the instance to the current directory.

Copy these scripts to an instance:
	./copy-self server1
	
	This copies the contents of this directory (the scripts) to the instance.

	Tip: This script is now legacy. It is easier to just git clone this repository
	on the target instance.

Create a volume and attach:
	./create-volume server1 sdd 10

	This creates a 10GB EBS volume, and tags it with the name "server1-sdd", and attaches
	it to the instance "server1" as the device /dev/sdd.

Delete all volumes attached to an instance:
	./delete-volumes server1

	This deletes all volumes with names starting with "server1-".

Describe volumes:
	./describe-volumes

List volumes:
	./list-volumes

	Just lists the volume IDs.

-------
Contact
-------

Questions, comments, patches, beer:
Vikas Gorur <vikas@gluster.com>

